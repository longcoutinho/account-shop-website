(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8276],{5679:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/history",function(){return n(3163)}])},9202:function(e,t,n){"use strict";var l=n(5893);n(7294);var r=n(9008),s=n.n(r),c=n(118),i=n(2329),u=n(7357),a=n(2119),o=n(6127),x=n(1163);let d=e=>{let{children:t,title:n,admin:r,menuIndex:d,cartAmount:h,isHome:f}=e;return(0,x.useRouter)(),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,l.jsx)(s(),{children:(0,l.jsx)("title",{children:c.Ti.PREFIX+n})}),(0,l.jsx)(a.Z,{}),(0,l.jsxs)(u.Z,{className:"w-full flex flex-col h-screen overflow-y-auto overflow-x-hidden",children:[(0,l.jsx)(i.Z,{}),(0,l.jsx)("div",{className:" max-w-[1280px] mx-auto w-full mt-28 mb-14  px-[5%] min-h-[calc(100vh-78px-96px)]",children:t}),(0,l.jsx)(o.Z,{})]})]})};t.Z=d},3163:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var l=n(5893),r=n(9202),s=n(118),c=n(7294),i=n(5869),u=n(1163),a=n(1649),o=n(7357),x=n(3321);n(4950),n(4233),n(4256),n(7775);var d=n(9154),h=n(2882),f=n(3184),j=n(7906),m=n(3252),p=n(3816),v=n(295),E=n(4393);function _(e){let t=(0,u.useRouter)(),[n,r]=(0,c.useState)([]),[i,a]=c.useState(1);(0,c.useEffect)(()=>{_()},[]);let _=()=>{(0,E.R)().then(e=>{e.status==s.MG.OK&&r(e.data)}).catch(e=>{console.log(e)})};return(0,l.jsx)(o.Z,{className:"flex flex-row gap-5 flex-wrap justify-items-center bg-white rounded-2xl box-shadow p-5",children:n&&(null==n?void 0:n.length)>0?(0,l.jsx)(h.Z,{children:(0,l.jsxs)(j.Z,{children:[(0,l.jsx)(f.Z,{children:(0,l.jsxs)(p.Z,{children:[(0,l.jsx)(m.Z,{children:"M\xe3 giao dịch"}),(0,l.jsx)(m.Z,{children:"Số tiền"}),(0,l.jsx)(m.Z,{children:"Thời gian"}),(0,l.jsx)(m.Z,{children:"Trạng th\xe1i"})]})}),(0,l.jsx)(v.Z,{children:null==n?void 0:n.map((e,t)=>(0,l.jsxs)(p.Z,{children:[(0,l.jsx)(m.Z,{children:e.id}),(0,l.jsxs)(m.Z,{children:[e.price.toLocaleString("vi-VN"),"đ"]}),(0,l.jsx)(m.Z,{children:(0,d.o0)(e.createDate)}),(0,l.jsx)(m.Z,{children:2===e.status?"Th\xe0nh c\xf4ng":3===e.status?"Thất bại":"Đang tiến h\xe0nh"})]}))})]})}):(0,l.jsxs)("div",{className:"w-full flex flex-col",children:[(0,l.jsx)("div",{className:"mx-auto text-4xl font-bold px-20 py-32 w-fit mt-6",children:"Bạn chưa thực hiện giao dịch n\xe0o!"}),(0,l.jsx)(x.Z,{onClick:()=>{t.push(s.Q.BUY_CARD)},className:"w-[200px] bg-[#05296b] text-white min-h-11 mt-4 mx-auto cursor-pointer hover:bg-[#30466b] capitalize",children:"Bắt đầu mua sắm"})]})})}let w=()=>{(0,u.useRouter)(),(0,a.I0)();let{buyNow:e,orderDetail:t}=(0,a.v9)(e=>e.cart),[n,r]=(0,c.useState)(),[o,x]=(0,c.useState)([]),[d,h]=(0,c.useState)(0);(0,c.useEffect)(()=>{f();let n=e?t:JSON.parse(localStorage.getItem(s.k2.SHOPPING_CART));if(n&&(null==n?void 0:n.length)>0){let e=0;null==n||n.map(t=>{e+=(null==t?void 0:t.amount)*(null==t?void 0:t.price)}),h(e)}r(n)},[e,t]);let f=async()=>{try{let e=await (0,i.os)();(null==e?void 0:e.status)===s.MG.OK&&x(null==e?void 0:e.data)}catch(e){console.log(e)}};return(0,l.jsx)("div",{className:"flex flex-col w-full gap-4",children:(0,l.jsx)(_,{})})},R=()=>(0,l.jsxs)(r.Z,{title:s.Ti.HISTORY,menuIndex:1,children:[(0,l.jsx)("p",{className:"font-bold text-2xl mb-4",children:s.Ti.HISTORY}),(0,l.jsx)(w,{})]});var S=R},5869:function(e,t,n){"use strict";n.d(t,{IP:function(){return i},MJ:function(){return x},Oq:function(){return c},dx:function(){return o},g_:function(){return u},os:function(){return a},wh:function(){return s}});var l=n(118),r=n(9154);let s=async()=>{let e=l.zj.GAME_SERVICE;return(0,r.vn)(e,null)},c=async()=>{let e=l.zj.CARD_SERVICE;return(0,r.vn)(e,null)},i=async e=>{let t=l.zj.ITEM_SERVICE+"/card/".concat(e);return(0,r.vn)(t,null)},u=async e=>{let t=l.zj.BASE_URL+"/sale-order/create";return(0,r.NJ)(t,e)},a=async()=>{let e=l.zj.BASE_URL+"/payment/method";return(0,r.vn)(e,null)},o=async e=>{let t=l.zj.BASE_URL+"/top-up-game/lord-mobile/send-otp/".concat(e);return(0,r.vn)(t,null)},x=async(e,t)=>{let n=l.zj.BASE_URL+"/top-up-game/lord-mobile/token/".concat(e);return(0,r.NJ)(n,{otp:t})}},4393:function(e,t,n){"use strict";n.d(t,{L:function(){return s},R:function(){return c}});var l=n(118),r=n(9154);let s=async e=>{let t=l.zj.SALE_ORDER_SERVICE+"/create";return(0,r.Hw)(t,e)},c=async()=>{let e=l.zj.SALE_ORDER_SERVICE+"/list";return(0,r.vn)(e,null)}}},function(e){e.O(0,[4976,3662,746,8415,9097,4706,9774,2888,179],function(){return e(e.s=5679)}),_N_E=e.O()}]);